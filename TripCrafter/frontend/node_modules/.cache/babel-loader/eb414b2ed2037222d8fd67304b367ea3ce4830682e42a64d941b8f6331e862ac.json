{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mihir\\\\OneDrive\\\\Documents\\\\GitHub\\\\TripCrafter\\\\TripCrafter\\\\frontend\\\\src\\\\components\\\\Mybookings.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport './Compcss/mybooking.css';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Mybookings = () => {\n  _s();\n  const [bookings, setBookings] = useState([]);\n  const token = localStorage.getItem('userToken'); // Replace with your token storage method\n\n  useEffect(() => {\n    fetch('http://127.0.0.1:8000/api/api/mybookings/', {\n      method: 'GET',\n      headers: {\n        // 'Authorization': `Bearer ${localStorage.getItem('userToken')}`,\n        'Authorization': `Token ${token}`,\n        'Content-Type': 'application/json'\n      }\n    }).then(response => {\n      return response.json(); // Read the JSON response once\n    }).then(data => {\n      console.log(data);\n      setBookings(data);\n    }).catch(error => {\n      console.error('Errorrr:', error);\n    });\n  }, [token]);\n  const handeldelete = e => {\n    console.log(token);\n    axios.delete(`http://127.0.0.1:8000/api/api/deletebooking/${e.target.id}`, {\n      headers: {\n        \"Authorization\": `Token ${token}`,\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      console.log(res.data);\n      window.location.reload();\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"d-flex flex-column\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" border-primary container  text_style \",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"p-3\",\n        style: {\n          fontSize: '50px'\n        },\n        children: \"My Bookings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \" border-danger\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"  border-success container d-flex flex-column booking-list\",\n        children: bookings === null || bookings === void 0 ? void 0 : bookings.map(booking => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card booked_card mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header bg__color\",\n            style: {\n              borderBottom: '1px solid #05668d'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"card-title text_style fs-2 title_style\",\n              children: [\"Title:\", booking.title]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"card-text \",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-1 fw-bold text_style\",\n                children: \"Name:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 41\n              }, this), \"  \", booking.full_name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"card-text \",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-1 fw-bold text_style\",\n                children: \"Age:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 41\n              }, this), \"  \", booking.age]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"card-text \",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-1 fw-bold text_style\",\n                children: \"Mobile Number:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 41\n              }, this), \" \", booking.mobile_number]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"card-text \",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-1 fw-bold text_style\",\n                children: \"Number of People:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 41\n              }, this), \" \", booking.num_of_people]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 60,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"card-text \",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-1 fw-bold text_style\",\n                children: \"Booking Date:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 41\n              }, this), \" \", booking.booking_date]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 61,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"card-text \",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-1 fw-bold text_style\",\n                children: \"Gender:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 41\n              }, this), \" \", booking.gender]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 62,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"card-text \",\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-1 fw-bold text_style\",\n                children: \"Total Price:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 41\n              }, this), \" \", booking.price * booking.num_of_people]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              className: \"card-text\",\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                className: \"p-1 fw-bold text_style\",\n                children: \"Booking Status:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 65,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                className: `p-1 text_style ${booking.status === 'Completed' ? 'text-success' : 'text-danger'}`,\n                children: [\" \", booking.status, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"m-2\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn__thank\",\n              id: booking.booking_id,\n              onClick: handeldelete,\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 11\n          }, this)]\n        }, booking.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 9\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n_s(Mybookings, \"mhYuI94oNh8neuxZ6UayUTRC/Ns=\");\n_c = Mybookings;\nexport default Mybookings;\nvar _c;\n$RefreshReg$(_c, \"Mybookings\");","map":{"version":3,"names":["React","useEffect","useState","axios","Mybookings","bookings","setBookings","token","localStorage","getItem","fetch","method","headers","then","response","json","data","console","log","catch","error","handeldelete","e","delete","target","id","res","window","location","reload","err","fontSize","map","booking","borderBottom","title","full_name","age","mobile_number","num_of_people","booking_date","gender","price","status","booking_id"],"sources":["C:/Users/mihir/OneDrive/Documents/GitHub/TripCrafter/TripCrafter/frontend/src/components/Mybookings.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './Compcss/mybooking.css'\r\nimport axios from 'axios';\r\n\r\nconst Mybookings = () => {\r\n  const [bookings, setBookings] = useState([]);\r\n  const token = localStorage.getItem('userToken'); // Replace with your token storage method\r\n\r\n  useEffect(() => {\r\n    fetch('http://127.0.0.1:8000/api/api/mybookings/', {\r\n      method: 'GET',\r\n      headers: {\r\n        // 'Authorization': `Bearer ${localStorage.getItem('userToken')}`,\r\n        'Authorization': `Token ${token}`,\r\n        'Content-Type': 'application/json',\r\n      },\r\n    })\r\n    .then((response) => {\r\n         return response.json(); // Read the JSON response once\r\n      })\r\n      .then((data) => {\r\n        console.log(data);\r\n        setBookings(data);\r\n      })\r\n      .catch((error) => {\r\n        console.error('Errorrr:', error);\r\n      });\r\n  }, [token]);\r\n  const handeldelete =(e)=>{\r\n    console.log(token)\r\n    axios.delete(`http://127.0.0.1:8000/api/api/deletebooking/${e.target.id}`,\r\n    {\r\n      headers:{\"Authorization\":`Token ${token}`, \r\n      'Content-Type': 'application/json'}\r\n    }).then((res)=>{\r\n      console.log(res.data)\r\n      window.location.reload()\r\n    }).catch((err)=>{\r\n      console.log(err)\r\n    })\r\n\r\n  }\r\n\r\n  return (\r\n    <section className='d-flex flex-column'>\r\n      <div className=' border-primary container  text_style ' >\r\n        <h2 className=\"p-3\" style={{fontSize:'50px'}}>My Bookings</h2>\r\n      </div>\r\n      <div className=' border-danger'>\r\n      <div className=\"  border-success container d-flex flex-column booking-list\">\r\n      {bookings?.map((booking) => (\r\n        <div className=\"card booked_card mb-3\" key={booking.id}>\r\n          <div className=\"card-header bg__color\" style={{borderBottom:'1px solid #05668d'}}>\r\n            <h3 className=\"card-title text_style fs-2 title_style\">Title:{booking.title}</h3>\r\n          </div>\r\n          <div className=\"card-body\">\r\n            <tr className=\"card-text \"> <td className='p-1 fw-bold text_style'>Name:</td>  {booking.full_name}</tr>\r\n            <tr className=\"card-text \"> <td className='p-1 fw-bold text_style'>Age:</td>  {booking.age}</tr>\r\n            <tr className=\"card-text \"> <td className='p-1 fw-bold text_style'>Mobile Number:</td> {booking.mobile_number}</tr>\r\n            <tr className=\"card-text \"> <td className='p-1 fw-bold text_style'>Number of People:</td> {booking.num_of_people}</tr>\r\n            <tr className=\"card-text \"> <td className='p-1 fw-bold text_style'>Booking Date:</td> {booking.booking_date}</tr>\r\n            <tr className=\"card-text \"> <td className='p-1 fw-bold text_style'>Gender:</td> {booking.gender}</tr>\r\n            <tr className=\"card-text \"> <td className='p-1 fw-bold text_style'>Total Price:</td> {booking.price*booking.num_of_people}</tr>\r\n            <tr className=\"card-text\">\r\n                    <td className='p-1 fw-bold text_style'>Booking Status:</td>\r\n                    <td className={`p-1 text_style ${booking.status === 'Completed' ? 'text-success' : 'text-danger'}`}> {booking.status} </td>\r\n            </tr>\r\n          </div>\r\n          <div className='m-2'>\r\n          <button className='btn btn__thank' id={booking.booking_id} onClick={handeldelete}>Delete</button>\r\n          </div>\r\n          \r\n        </div>\r\n      ))}\r\n    </div>\r\n      </div>\r\n    </section>\r\n    \r\n  );\r\n      }\r\n  \r\nexport default Mybookings;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}