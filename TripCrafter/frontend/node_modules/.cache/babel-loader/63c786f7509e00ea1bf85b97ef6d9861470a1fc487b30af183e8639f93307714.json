{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mihir\\\\Downloads\\\\Tours-Travels-main\\\\Tours-Travels-main\\\\frontend\\\\src\\\\components\\\\Headers.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\n// import logo from '../assets/images/logo.png';\nimport \"./Compcss/Headers.css\";\nimport logo from \"../images/ss1.png\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Headers = () => {\n  _s();\n  const [username, setUsername] = useState(\"\");\n  useEffect(() => {\n    // Function to fetch user information from your Django backend\n    const fetchUserInfo = async () => {\n      try {\n        // Include the user token in the request headers for authentication\n        const token = localStorage.getItem(\"userToken\"); // Replace with your token storage method\n        const response = await fetch(\"http://127.0.0.1:8000/api/api/get-user-info/\", {\n          method: \"GET\",\n          headers: {\n            Authorization: `Token ${token}`\n          }\n        });\n        if (response.ok) {\n          const data = await response.json();\n          console.log(data);\n          setUsername(data.username);\n          localStorage.setItem(\"userid\", data.id);\n        }\n        setUsername(localStorage.getItem(\"username\"));\n      } catch (error) {\n        console.error(\"Error fetching user information:\", error);\n      }\n    };\n\n    // Call the function to fetch user information when the component mounts\n    fetchUserInfo();\n  }, []); // Empty dependency array to run the effect once\n\n  // Function to handle logout\n  const handleLogout = () => {\n    // Clear the user token from local storage\n    localStorage.clear();\n    // Redirect or perform any other necessary actions after logout\n    // For example, you can navigate to the login page\n    window.location.href = \"/login\";\n  };\n  const nav_links = [{\n    path: \"/home\",\n    display: \"Home\"\n  }, {\n    path: \"/about\",\n    display: \"About\"\n  }, {\n    path: \"/tour\",\n    display: \"Tours\"\n  }];\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"navbar navbar-expand-lg navbar-dark nav_css sticky\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container-fluid \",\n        children: [/*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"navbar-brand\",\n          href: \"/home\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: logo,\n            width: \"50%\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \" justify-content-between collapse navbar-collapse\",\n          id: \"navbarNav\",\n          children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"navbar-nav\",\n            children: [nav_links.map((item, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"nav-item\",\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                className: \"text-decoration-none text-white m-3 fs-5 \",\n                href: item.path,\n                children: item.display\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 19\n              }, this)\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this)), /*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"d-flex \",\n              children: username && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"/mybookings\",\n                  className: \"text-decoration-none text-white text_title  fs-5\",\n                  children: \"MyBookings\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"d-flex gap-3 align-items-center \",\n            children: username ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-white fs-5 text_title\",\n                children: [\"Welcome, \", username]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleLogout,\n                className: \"btn btn-outline-light\",\n                children: \"Logout\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/login\",\n                className: \"btn btn-outline-light\",\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/register\",\n                className: \"btn btn-outline-light\",\n                children: \"Register\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(Headers, \"l28rGzbSkdZsfBKrYA2sPBHhH7E=\");\n_c = Headers;\nexport default Headers;\nvar _c;\n$RefreshReg$(_c, \"Headers\");","map":{"version":3,"names":["React","useState","useEffect","logo","Headers","username","setUsername","fetchUserInfo","token","localStorage","getItem","response","fetch","method","headers","Authorization","ok","data","json","console","log","setItem","id","error","handleLogout","clear","window","location","href","nav_links","path","display","map","item","index"],"sources":["C:/Users/mihir/Downloads/Tours-Travels-main/Tours-Travels-main/frontend/src/components/Headers.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n// import logo from '../assets/images/logo.png';\r\nimport \"./Compcss/Headers.css\";\r\nimport logo from \"../images/ss1.png\";\r\n\r\nconst Headers = () => {\r\n  const [username, setUsername] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    // Function to fetch user information from your Django backend\r\n    const fetchUserInfo = async () => {\r\n      try {\r\n        // Include the user token in the request headers for authentication\r\n        const token = localStorage.getItem(\"userToken\"); // Replace with your token storage method\r\n        const response = await fetch(\r\n          \"http://127.0.0.1:8000/api/api/get-user-info/\",\r\n          {\r\n            method: \"GET\",\r\n            headers: {\r\n              Authorization: `Token ${token}`,\r\n            },\r\n          }\r\n        );\r\n        if (response.ok) {\r\n          const data = await response.json();\r\n          console.log(data);\r\n          setUsername(data.username);\r\n          localStorage.setItem(\"userid\", data.id);\r\n        }\r\n        setUsername(localStorage.getItem(\"username\"));\r\n      } catch (error) {\r\n        console.error(\"Error fetching user information:\", error);\r\n      }\r\n    };\r\n\r\n    // Call the function to fetch user information when the component mounts\r\n    fetchUserInfo();\r\n  }, []); // Empty dependency array to run the effect once\r\n\r\n  // Function to handle logout\r\n  const handleLogout = () => {\r\n    // Clear the user token from local storage\r\n    localStorage.clear();\r\n    // Redirect or perform any other necessary actions after logout\r\n    // For example, you can navigate to the login page\r\n    window.location.href = \"/login\";\r\n  };\r\n\r\n  const nav_links = [\r\n    {\r\n      path: \"/home\",\r\n      display: \"Home\",\r\n    },\r\n    {\r\n      path: \"/about\",\r\n      display: \"About\",\r\n    },\r\n    {\r\n      path: \"/tour\",\r\n      display: \"Tours\",\r\n    },\r\n\r\n  ];\r\n  \r\n  return (\r\n    <>\r\n      <nav className=\"navbar navbar-expand-lg navbar-dark nav_css sticky\">\r\n        <div className=\"container-fluid \">\r\n          <a className=\"navbar-brand\" href=\"/home\">\r\n            <img src={logo} width=\"50%\" alt=\"\" />\r\n          </a>\r\n          \r\n          <div\r\n            className=\" justify-content-between collapse navbar-collapse\"\r\n            id=\"navbarNav\"\r\n          >\r\n            <ul className=\"navbar-nav\">\r\n              {nav_links.map((item, index) => (\r\n                <li className=\"nav-item\" key={index}>\r\n                  <a\r\n                    className=\"text-decoration-none text-white m-3 fs-5 \"\r\n                    \r\n                    href={item.path}\r\n                  >\r\n                    {item.display}\r\n                  </a>\r\n                </li>\r\n              ))}\r\n\r\n            <li className=\"d-flex \">\r\n              {username && (\r\n                <>\r\n                  {/* \"My Bookings\" button */}\r\n                  <a href=\"/mybookings\"  className=\"text-decoration-none text-white text_title  fs-5\">\r\n                    MyBookings\r\n                  </a>\r\n                </>\r\n              )}\r\n              </li>\r\n</ul>\r\n            <div className=\"d-flex gap-3 align-items-center \">\r\n              {username ? (\r\n                <>\r\n                  <span className=\"text-white fs-5 text_title\">Welcome, {username}</span>\r\n                  <button\r\n                    onClick={handleLogout}\r\n                    className=\"btn btn-outline-light\"\r\n                  >\r\n                    Logout\r\n                  </button>\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <a href=\"/login\" className=\"btn btn-outline-light\">\r\n                    Login\r\n                  </a>\r\n                  <a href=\"/register\" className=\"btn btn-outline-light\">\r\n                    Register\r\n                  </a>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Headers;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}